---
apiVersion: 'helm.fluxcd.io/v1'
kind: 'HelmRelease'
metadata:
  name: 'external-dns'
  namespace: 'kube-system'
spec:
  chart:
    repository: 'https://charts.bitnami.com/bitnami'
    name: 'external-dns'
    version: '3.2.5'
  releaseName: 'external-dns'
  values:
    image:
      repository: 'bitnami/external-dns'
      tag: '0.7.2'
    provider: 'aws'
    zoneIdFilters: ['Z8WQJGKO99WMI']
    crd:
      create: true
    logLevel: 'debug'
    metrics:
      enabled: true
      serviceMonitor:
        enabled: true
  valuesFrom:
    - secretKeyRef:
        name: 'external-dns-aws'
