---
apiVersion: 'helm.fluxcd.io/v1'
kind: 'HelmRelease'
metadata:
  annotations:
    filter.fluxcd.io/cainjector: 'semver:*'
    filter.fluxcd.io/chart-image: 'semver:*'
    filter.fluxcd.io/webhook: 'semver:*'
    fluxcd.io/automated: 'true'
  name: 'cert-manager'
  namespace: 'cert-manager'
spec:
  chart:
    name: 'cert-manager'
    repository: 'https://charts.jetstack.io'
    version: 'v1.0.0'
  releaseName: 'cert-manager'
  values:
    cainjector:
      image:
        repository: 'quay.io/jetstack/cert-manager-cainjector'
        tag: 'v1.0.0'
    extraArgs:
      - '--dns01-recursive-nameservers=1.1.1.1:53'
      - '--dns01-recursive-nameservers-only'
    global:
      logLevel: 2
    image:
      repository: 'quay.io/jetstack/cert-manager-controller'
      tag: 'v1.0.0'
    installCRDs: true
    prometheus:
      enabled: true
      servicemonitor:
        enabled: true
    webhook:
      image:
        repository: 'quay.io/jetstack/cert-manager-webhook'
        tag: 'v1.0.0'
