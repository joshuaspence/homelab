---
apiVersion: 'apps/v1'
kind: 'Deployment'
metadata:
  name: 'flux'
  namespace: 'flux'
spec:
  template:
    spec:
      containers:
        - name: 'flux'

          # TODO: Add the following arguments:
          #
          #   - `--git-email`
          #   - `--git-path`
          #   - `--git-poll-interval`
          #   - `--git-readonly`
          #   - `--git-url`
          #   - `--git-user`
          #   - `--k8s-secret-volume-mount-path`
          #   - `--manifest-generation`
          #   - `--sync-garbage-collection`
          args:
            - '--git-path=default'
            - '--git-readonly'
            - '--git-url=https://github.com/joshuaspence/homelab.git'
            - '--manifest-generation'
            - '--sync-garbage-collection-dry'
